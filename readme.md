
_AI - Deepseek was used in some parts of the codes. Those parts will have a comment about AI usage._


# Account Management API - using ASP.NET
This is an API implementation using ASP.Net demonstrating API endpoints basic account management operations.

- **creating/registering a new account** (Create using HTTP method `POST`),  
- **reading/searching for an account or displaying all accounts** (Retrieve using HTTP method `GET`), 
- **updating account data using the account Id** (Update using HTTP method `PATCH`) and 
- **deleting an account using the account Id** (Delete using HTTP method `DELETE`) 


## Requirements

- .NET SDK: Version 10.0.100
- ANSI-capable terminal (optional, for colors)


## Files and Folders

```
│   .gitignore
│   appsettings.Development.json
│   appsettings.json
│   AccountManagement.csproj
│   AccountManagement.slnx
│   AccountEndpoints.cs				// stores all the methods directly used by the main program
│   Program.cs						// main program detailing the endpoint routes
│   readme.md						// this readme file

├───Support
│       Helper.cs					// helpers for the endpoint
│       JsonHelper.cs				// AI generated helper to detect malformed JSON 
│       DbOperation.cs				// provides database operation methods 
│       ApiDocsResponseFormat.cs	// swagger custom parameters and responses
│       ApiDocsAccountDataModel.cs	// swagger custom parameters and responses

├───database
│       account.db					// database file 

├───EntityModels 					// generated by the ef tool 
│       Account.cs					// auto generated data model using ef tool 
│       AccountDb.cs				// auto generated file for the database context using ef tool

├───screenshots						// stores images for this readme file
```

## Build and Run (powershell)

- Restore dependencies 
	```
	dotnet restore
	```

- Build
	```
	dotnet build
	```

- Run
	```
	dotnet run
	```

## API Endpoints
> [!NOTE]
> Swagger UI is implemented but limited to single examples per status code. Refer below for complete response documentation
> The sample data on the documentation are randomly generated from faker (npm js)

### Create / Register new account

**Endpoint** `POST` ```/account/register```

**Parameters** `none`

**Request Body (required)** `application/json`

	example: 

		{
		  "firstName": "John",
		  "lastName": "Doe",
		  "emailAddress": "john.doe@example.com"
		}
	
**Responses** (depending on the body)  

Code `201` `Created` `application/json`

	example: 

	{
	  success: true,
	  message: 'Account created successfully',
	  data: {
		id: 204,
		firstName: 'Rodney',
		lastName: 'Cabella',
		emailAddress: 'rc1@noemail.com',
		createdAt: '2026-01-18T20:22:30',
		updatedAt: null
		}
	}
	

Code `409` `Conflict` `application/json` 

	
	example: 

	{
	  success: false,
	  message: 'The email address is either tied to an account or cannot be used for registration'
	}
	

Code `400` `Bad Request` `application/json` 

	
	examples: 

	{
	  success: false,
	  message: 'Validation failed: The FirstName field is required.; The LastName field is required.; The EmailAddress field is required.'
	}

	{
	  success: false,
	  message: 'Validation failed: The FirstName field is required.'
	}

	{
	  success: false,
	  message: 'Validation failed: The LastName field is required.'
	}

	{
	  success: false,
	  message: 'Validation failed: The EmailAddress field is required.'
	}

	{
	  success: false,
	  message: 'Validation failed: The EmailAddress field is not a valid e-mail address.'
	}

	

Code `400` `Bad Request` `application/json` 

	
	example: 

	{
	  success: false,
	  message: 'Request body is empty'
	}


Code `422` `Unprocessable Entity` `application/json` 

	
	example: 

	{
	  success: false,
	  message: 'Malformed JSON in request body'
	}


### Read / Search all
**Endpoint** `GET` ```/account/search/all```

**Parameters** `none`

**Responses** 

Code `200` `OK` `application/json`

	example: 

	{
	  success: true,
	  message: 'Total of 4 accounts retrieved successfully',
	  data: [
		{
		  id: 200,
		  firstName: 'Evelyn',
		  lastName: 'Choi',
		  emailAddress: 'e.choi@gmail.com',
		  createdAt: '2026-01-02T00:00:00',
		  updatedAt: null
		},
		{
		  id: 201,
		  firstName: 'He',
		  lastName: 'Peng',
		  emailAddress: 'hp@noemail.com',
		  createdAt: '2026-01-02T00:00:00',
		  updatedAt: null
		},
		{
		  id: 202,
		  firstName: 'Kevin',
		  lastName: 'Chia',
		  emailAddress: 'kchia@singnet.sg',
		  createdAt: '2026-01-02T00:00:00',
		  updatedAt: null
		},
		{
		  id: 203,
		  firstName: 'Chelsea',
		  lastName: 'Peterson',
		  emailAddress: 'cpeters20@gmail.com',
		  createdAt: '2026-01-02T00:00:00',
		  updatedAt: null
		}
	  ]
	}



### Read / Search for account using an account id
**Endpoint** `GET` ```/account/search/id{id}```

**Parameters** `id`

**Responses** 

Code `200` `OK` `application/json`

	example: 
		
	{
	  success: true,
	  message: 'Account retrieved successfully',
	  data: [
		{
		  id: 200,
		  firstName: 'Evelyn',
		  lastName: 'Choi',
		  emailAddress: 'e.choi@gmail.com',
		  createdAt: '2026-01-02T00:00:00',
		  updatedAt: null
		}
	  ]
	}

	{
	  success: true,
	  message: 'There are no accounts on the database',
	  data: []
	}

Code `400` `Bad Request` `application/json`

	example: 

	{
	  "success": false,
	  "message": "'200a' is not a valid account Id"
	}



### Read / Search for account using an email address
**Endpoint** `GET` ```/account/search/id{email}```

**Parameters** `email`

**Responses** 

Code `200` `OK` `application/json`

	example: 

	{
	  success: true,
	  message: 'Total of 2 accounts retrieved successfully',
	  data: [
		{
		  id: 200,
		  firstName: 'Evelyn',
		  lastName: 'Choi',
		  emailAddress: 'e.choi@gmail.com',
		  createdAt: '2026-01-02T00:00:00',
		  updatedAt: null
		},
		{
		  id: 203,
		  firstName: 'Chelsea',
		  lastName: 'Peterson',
		  emailAddress: 'cpeters20@gmail.com',
		  createdAt: '2026-01-02T00:00:00',
		  updatedAt: null
		}
	  ]
	}


	{
	  success: true,
	  message: 'Account retrieved successfully',
	  data: [
		{
		  id: 200,
		  firstName: 'Evelyn',
		  lastName: 'Choi',
		  emailAddress: 'e.choi@gmail.com',
		  createdAt: '2026-01-02T00:00:00',
		  updatedAt: null
		}
	  ]
	}

	{
	  success: true,
	  message: 'There are no accounts on the database',
	  data: []
	}

Code `400` `Bad Request` `application/json`

	example: 

	{
	  "success": false,
	  "message": "'200a' is not a valid account Id"
	}



### Update using an account id 
**Endpoint** `PATCH` ```/account/update/id/{id}```

**Parameters** `id`

**Responses** 

Code `200` `OK` `application/json`

	example: 

	{
	  success: true,
	  message: 'Update successful',
	  changes: {
		FirstName: 'firstNameTest41',
		LastName: 'lastNameTest41',
		EmailAddress: '41EmailTest@gmail.com'
	  }
	}

	{
	  success: true,
	  message: 'Request processed successfully. No modifications made. Null fields and empty values were ignored to preserve existing data.'
	}

	{
	  success: true,
	  message: 'Update successful',
	  changes: { FirstName: 'Miles', LastName: 'Morales' }
	}

Code `400` `Bad Request` `application/json`

	example: 

	{
	  "success": false,
	  "message": "Request body is empty"
	}

	{
	  success: false,
	  message: "Account ID '203' is restricted and cannot be updated"
	}

Code `422` `Unprocessable Entity` `application/json`

	example: 

	{
	  "success": false,
	  "message": "Malformed JSON in request body"
	}

Code `409` `Conflict` `application/json`

	example: 

	{
	  "success": false,
	  "message": "The email address is either tied to an account or cannot be used for registration"
	}

playwright report
https://edimc2000.github.io/dotnet-asp-a2-account-management-playwright-tests/ 